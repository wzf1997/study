<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        img{
            display: block;
            width: 100%;
            height: 200px;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="./singer.png" lazyload="trie" data-true="./1.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./2.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./3.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./4.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./1.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./2.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./3.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./4.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./1.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./2.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./3.jpg" alt="">
        <img src="./singer.png" lazyload="trie" data-true="./4.jpg" alt="">
    </div>
    <script>
     var viewHeight =document.documentElement.clientHeight//获取可视区高度 
     console.log(viewHeight)
     
    //  function lazyload(){
    //     let imgs=document.querySelectorAll("img[lazyload]")
    //     Array.from(imgs).map(item=>{
    //         rect=item.getBoundingClientRect()// 用于获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置
    //         console.log(rect)
    //         if(rect.bottom>=0 && rect.top < viewHeight){
    //                 var img=new Image()
    //                 img.src=item.dataset.true
    //                 img.onload=function(){
    //                 item.src=img.src
    //             }
    //         } 
    //     })
    //  }
     
     window.onscroll=function(){
         lazyload()
     }
    </script>
</body>
</html>